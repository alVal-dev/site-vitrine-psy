---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Hero from '../../components/sections/Hero.astro';
import About from '../../components/sections/About.astro';
import Services from '../../components/sections/Services.astro';
import Methodology from '../../components/sections/Methodology.astro';
import { locales, defaultLocale, type Locale } from '../../i18n';

// génère uniquement les locales non-default (es)
// fr est géré par /index.astro
export function getStaticPaths() {
  return locales
    .filter((lang) => lang !== defaultLocale)
    .map((lang) => ({ params: { lang } }));
}

const { lang } = Astro.params as { lang: Locale };
---

<BaseLayout lang={lang}>
  <Hero lang={lang} />
  <About lang={lang} />
  <Services lang={lang} />
  <Methodology lang={lang} />
</BaseLayout>